{% extends 'base.html' %}
{% load static %}

{% block content %}
<style type="text/css">

	@media (max-width: 768px) { 
		.right-column{
			margin-left: 0px;
		}
	}

	@media (min-width: 768px) { 
		.right-column{
			margin-left: 20px;
		}
	}

	.blog-post-container{
		margin-bottom: 20px;
		width: 100%;
	}
	.create-post-bar{
		background-color: #fff;
		margin-bottom:20px;
	}

	.left-column{
		padding:0px;
	}

	.right-column{
		padding:0px;
	}
	.lead{
		font-size: 17px;
	}

	#feedControl {
margin-top : 10px;
margin-left: auto;
margin-right: auto;
width : 440px;}


@import url('https://fonts.googleapis.com/css?family=Ubuntu');
.text{
   
 
   font-family: "Work Sans", sans-serif;
    text-align: center;
    font-size: 35px;
    color: rgb(0, 255, 255);
    text-decoration: none;
   
    
}

.profile-header-container{
    margin: auto;
    text-align: center;
}

.profile-header-img {
    padding: 40px;
}

.profile-header-img > img.img-circle {
    width: 200px;
    height: 200px;
    border: 3px solid #5A32F0;
}

.profile-header {
    margin-top: 43px;
}

/**
 * Ranking component
 */
.rank-label-container {
    margin-top: -19px;
    /* z-index: 1000; */
    text-align: center;
}

.label.label-default.rank-label {
    background-color: white;
    padding: 5px 10px 5px 10px;
    border-radius: 27px;
}

</style>
{%if request.user.is_authenticated%}
<div class="container">
	<div class="row">

		<!-- blog feed -->

		<div class="left-column col-lg-7 offset-lg-1">

			<!-- Top 'create post' bar -->
			<div class="d-lg-none mb-3">
			
			</div>
			<!-- end Top 'create post' bar  blog-post-container-->

			<!-- Blog posts-->
			{%if blog_posts%}
				{% for post in blog_posts %}
					<div class=" card mb-3 shadow-lg rounded">
						{% include 'blog/snippets/blog_post_snippet.html' with blog_post=post %}
					</div>
				{% endfor %}
			{%else%}
				 <div class="blog-post-container">
				 	{%include 'blog/snippets/blog_post_snippet.html' with query=query%}
				 	

				 </div>
			{%endif%}
			
			<!-- End Blog posts-->
		</div>
		<!-- end blog feed -->


		<!-- Right 'create post' column  -->
		<div class="right-column col-lg-3 d-lg-flex d-none flex-column">


			{%if request.user.is_authenticated%}
			<div class="card  mb-3 bg-dark shadow-lg rounded" style="text-decoration: none; width: 18rem;">
			<div class="profile-header-container mx-auto d-block">   
    		<div class="profile-header-img mx-auto d-block">
                <img class="img-circle rounded-circle rounded-lg mx-auto d-block" src="{{user.image.url}}" />
                
                <div class="rank-label-container">
                    <span class="label label-default rank-label"><a href="{%url 'account'%}" style="text-decoration: none;"> {{request.user.username}}</a></span>
                </div>
            </div>
        </div> 


		<!--<div class="mx-auto d-block "style="width: 176px; height: 176px;  position: relative; margin-top: 7px;">
		<img  width="176" height="176"  src="{{user.image.url}}" name="image" class=" rounded-circle "  alt="No Profile picture"> 
		<div class="rank-label-container">
                    <span class="label label-default rank-label"><a href="{%url 'account'%}" style="text-decoration: none;"> {{request.user.username}}</a></span>
                </div>
		</div> -->

			<div class="text" ></div>
			<div class="card-body text-center">		   
				<p><a href="{% url 'blog:create' %}" class="btn btn-primary">publica <i class="far fa-edit fa-1x"></i></a></p>
  </div>
  <div class="card-footer text-muted">
				
				
			</div>
  
		
			    
			</div>
			{%else%}
			<div class="card  mb-3 shadow-lg rounded" style="text-decoration: none; width: 18rem;">
			
			<div class="card-img-overlay" ><a href="{%url 'account'%}"> {{request.user.username}}</a></div>
			<div class="card-body text-center">		   <p><a href="{% url 'blog:create' %}" class="btn btn-primary">Post <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil-square" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
  <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
  <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
</svg></a></p>
  </div><div class="card-footer text-muted">
				
				
			</div>
  
		
			    
			</div>
			{%endif%}
			
			<div class="card border-light mb-3" style="width: 18rem;">
			  <div class="card-body">
			    <iframe src="https://open.spotify.com/embed/playlist/37i9dQZF1DXcZDD7cfEKhW" width="250" height="380" frameborder="0" allowtransparency="false" allow="encrypted-media"></iframe>
			  </div>
			</div>
			
		
	
			<div class="card border-info mb-3" style="width: 18rem;">
			  <div class="card-header"><i class="fas fa-rss-square fa-1x"></i> Noticias</div>
			  <div class="card-body text-info">
			    <iframe style="width: 16rem;" src="//rss.bloople.net/?url=https%3A%2F%2Fcnnespanol.cnn.com%2Frss&detail=-1&limit=5&showtitle=false&showicon=true&type=html"></iframe>
			  </div>
			</div>
			

			
		<!-- end Right 'create post' column  -->

	</div>
</div>
{%else%}
<div class="d-flex flex-column">
	<div class="card">
	<p class="m-auto">You must authenticate to view this page. </p>
	<p class="m-auto">
		<a href="{% url 'register' %}">Create an account</a> or 
		<a href="{% url 'login' %}">login</a>.
	</p>
	</div>
</div>
{%endif%}

{% endblock content %}






